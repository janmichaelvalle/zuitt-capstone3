{"ast":null,"code":"var _jsxFileName = \"/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Register.js\",\n  _s = $RefreshSig$();\nimport { Form, Button } from 'react-bootstrap';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom'; // Import useHistory hook\nimport UserContext from '../UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const history = useHistory(); // Initialize useHistory\n\n  // State hooks to store the values of the input fields\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [mobileNo, setMobileNo] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  // State to determine whether submit button is enabled or not\n  const [isActive, setIsActive] = useState(false);\n  function registerUser(e) {\n    e.preventDefault();\n    fetch('http://localhost:4005/b5/users/', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        mobileNo: mobileNo,\n        password: password\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.message === \"Registered Successfully\") {\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setMobileNo('');\n        setPassword('');\n        setConfirmPassword('');\n        alert(\"Registration successful\");\n\n        // Redirect to login page upon successful registration\n        history.push(\"/login\"); // Use history.push instead of <Navigate />\n      } else if (data.error === \"Email invalid\") {\n        alert(\"Email is invalid\");\n      } else if (data.error === \"Mobile number invalid\") {\n        alert(\"Mobile number is invalid\");\n      } else if (data.error === \"Password must be atleast 8 characters\") {\n        alert(\"Password must be at least 8 characters\");\n      } else {\n        alert(\"Something went wrong.\");\n      }\n    });\n  }\n  useEffect(() => {\n    setIsActive(firstName !== \"\" && lastName !== \"\" && email !== \"\" && mobileNo !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword);\n  }, [firstName, lastName, email, mobileNo, password, confirmPassword]);\n  return user.id !== null ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/products\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: e => registerUser(e),\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-5 text-center\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"First Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"Enter First Name\",\n        required: true,\n        value: firstName,\n        onChange: e => {\n          setFirstName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      disabled: !isActive,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"KjDRTEw96OqJTCzjkv4WWkNKnFI=\", false, function () {\n  return [useHistory];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["Form","Button","useState","useEffect","useContext","useHistory","UserContext","jsxDEV","_jsxDEV","Register","_s","user","history","firstName","setFirstName","lastName","setLastName","email","setEmail","mobileNo","setMobileNo","password","setPassword","confirmPassword","setConfirmPassword","isActive","setIsActive","registerUser","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","alert","push","error","id","Navigate","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","children","className","Group","Label","Control","type","placeholder","required","value","onChange","target","variant","disabled","_c","$RefreshReg$"],"sources":["/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Register.js"],"sourcesContent":["import { Form, Button } from 'react-bootstrap';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom'; // Import useHistory hook\nimport UserContext from '../UserContext';\n\nexport default function Register() {\n    const { user } = useContext(UserContext);\n    const history = useHistory(); // Initialize useHistory\n\n    // State hooks to store the values of the input fields\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [mobileNo, setMobileNo] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    // State to determine whether submit button is enabled or not\n    const [isActive, setIsActive] = useState(false);\n\n    function registerUser(e) {\n        e.preventDefault();\n\n        fetch('http://localhost:4005/b5/users/', {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                mobileNo: mobileNo,\n                password: password\n            })\n        })\n        .then(res => res.json())\n        .then(data => {\n            if (data.message === \"Registered Successfully\") {\n                setFirstName('');\n                setLastName('');\n                setEmail('');\n                setMobileNo('');\n                setPassword('');\n                setConfirmPassword('');\n\n                alert(\"Registration successful\");\n                \n                // Redirect to login page upon successful registration\n                history.push(\"/login\"); // Use history.push instead of <Navigate />\n            } else if (data.error === \"Email invalid\") {\n                alert(\"Email is invalid\");\n            } else if (data.error === \"Mobile number invalid\") {\n                alert(\"Mobile number is invalid\");\n            } else if (data.error === \"Password must be atleast 8 characters\") {\n                alert(\"Password must be at least 8 characters\");\n            } else {\n                alert(\"Something went wrong.\");\n            }\n        });\n    }\n\n    useEffect(() => {\n        setIsActive(\n            firstName !== \"\" &&\n            lastName !== \"\" &&\n            email !== \"\" &&\n            mobileNo !== \"\" &&\n            password !== \"\" &&\n            confirmPassword !== \"\" &&\n            password === confirmPassword\n        );\n    }, [firstName, lastName, email, mobileNo, password, confirmPassword]);\n\n    return (\n        user.id !== null ? \n        <Navigate to=\"/products\" /> :\n        <Form onSubmit={(e) => registerUser(e)}>\n            <h1 className=\"my-5 text-center\">Register</h1>\n            <Form.Group>\n                <Form.Label>First Name:</Form.Label>\n                <Form.Control \n                    type=\"text\" \n                    placeholder=\"Enter First Name\" \n                    required\n                    value={firstName}\n                    onChange={e => {setFirstName(e.target.value)}}\n                />\n            </Form.Group>\n            {/* Other form groups */}\n            <Button variant=\"primary\" type=\"submit\" disabled={!isActive}>Submit</Button>\n        </Form>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}