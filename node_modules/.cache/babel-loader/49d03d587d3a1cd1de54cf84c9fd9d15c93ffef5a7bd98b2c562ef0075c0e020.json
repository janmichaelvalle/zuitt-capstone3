{"ast":null,"code":"var _jsxFileName = \"/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Register.js\",\n  _s = $RefreshSig$();\nimport { Form, Button } from 'react-bootstrap';\nimport { useState, useEffect, useContext } from 'react';\nimport { Redirect } from 'react-router-dom'; // Import Redirect\nimport UserContext from '../UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n\n  // State hooks to store the values of the input fields\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [mobileNo, setMobileNo] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  // State to determine whether submit button is enabled or not\n  const [isActive, setIsActive] = useState(false);\n  // State for redirection\n  const [redirectToLogin, setRedirectToLogin] = useState(false);\n  function registerUser(e) {\n    e.preventDefault();\n    fetch('http://localhost:4005/b5/users/', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        mobileNo: mobileNo,\n        password: password\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.message === \"Registered Successfully\") {\n        setFirstName('');\n        setLastName('');\n        setEmail('');\n        setMobileNo('');\n        setPassword('');\n        setConfirmPassword('');\n        alert(\"Registration successful\");\n\n        // Set redirectToLogin to true for redirection\n        setRedirectToLogin(true);\n      } else if (data.error === \"Email invalid\") {\n        alert(\"Email is invalid\");\n      } else if (data.error === \"Mobile number invalid\") {\n        alert(\"Mobile number is invalid\");\n      } else if (data.error === \"Password must be atleast 8 characters\") {\n        alert(\"Password must be at least 8 characters\");\n      } else {\n        alert(\"Something went wrong.\");\n      }\n    });\n  }\n  useEffect(() => {\n    setIsActive(firstName !== \"\" && lastName !== \"\" && email !== \"\" && mobileNo !== \"\" && password !== \"\" && confirmPassword !== \"\" && password === confirmPassword);\n  }, [firstName, lastName, email, mobileNo, password, confirmPassword]);\n  return user.id !== null ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/products\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this) :\n  // Redirect if user is already logged in\n  redirectToLogin ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this) :\n  /*#__PURE__*/\n  // Redirect upon successful registration\n  _jsxDEV(Form, {\n    onSubmit: e => registerUser(e),\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-5 text-center\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"First Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: \"Enter First Name\",\n        required: true,\n        value: firstName,\n        onChange: e => {\n          setFirstName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      disabled: !isActive,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n_s(Register, \"1C4OPClZ6tXF6t6EFbbhRIzkQ+0=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["Form","Button","useState","useEffect","useContext","Redirect","UserContext","jsxDEV","_jsxDEV","Register","_s","user","firstName","setFirstName","lastName","setLastName","email","setEmail","mobileNo","setMobileNo","password","setPassword","confirmPassword","setConfirmPassword","isActive","setIsActive","redirectToLogin","setRedirectToLogin","registerUser","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","alert","error","id","to","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","children","className","Group","Label","Control","type","placeholder","required","value","onChange","target","variant","disabled","_c","$RefreshReg$"],"sources":["/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Register.js"],"sourcesContent":["import { Form, Button } from 'react-bootstrap';\nimport { useState, useEffect, useContext } from 'react';\nimport { Redirect } from 'react-router-dom'; // Import Redirect\nimport UserContext from '../UserContext';\n\nexport default function Register() {\n    const { user } = useContext(UserContext);\n\n    // State hooks to store the values of the input fields\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [mobileNo, setMobileNo] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    // State to determine whether submit button is enabled or not\n    const [isActive, setIsActive] = useState(false);\n    // State for redirection\n    const [redirectToLogin, setRedirectToLogin] = useState(false);\n\n    function registerUser(e) {\n        e.preventDefault();\n\n        fetch('http://localhost:4005/b5/users/', {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                mobileNo: mobileNo,\n                password: password\n            })\n        })\n        .then(res => res.json())\n        .then(data => {\n            if (data.message === \"Registered Successfully\") {\n                setFirstName('');\n                setLastName('');\n                setEmail('');\n                setMobileNo('');\n                setPassword('');\n                setConfirmPassword('');\n\n                alert(\"Registration successful\");\n                \n                // Set redirectToLogin to true for redirection\n                setRedirectToLogin(true);\n            } else if (data.error === \"Email invalid\") {\n                alert(\"Email is invalid\");\n            } else if (data.error === \"Mobile number invalid\") {\n                alert(\"Mobile number is invalid\");\n            } else if (data.error === \"Password must be atleast 8 characters\") {\n                alert(\"Password must be at least 8 characters\");\n            } else {\n                alert(\"Something went wrong.\");\n            }\n        });\n    }\n\n    useEffect(() => {\n        setIsActive(\n            firstName !== \"\" &&\n            lastName !== \"\" &&\n            email !== \"\" &&\n            mobileNo !== \"\" &&\n            password !== \"\" &&\n            confirmPassword !== \"\" &&\n            password === confirmPassword\n        );\n    }, [firstName, lastName, email, mobileNo, password, confirmPassword]);\n\n    return (\n        user.id !== null ? \n        <Redirect to=\"/products\" /> : // Redirect if user is already logged in\n        redirectToLogin ? \n        <Redirect to=\"/login\" /> : // Redirect upon successful registration\n        <Form onSubmit={(e) => registerUser(e)}>\n            <h1 className=\"my-5 text-center\">Register</h1>\n            <Form.Group>\n                <Form.Label>First Name:</Form.Label>\n                <Form.Control \n                    type=\"text\" \n                    placeholder=\"Enter First Name\" \n                    required\n                    value={firstName}\n                    onChange={e => {setFirstName(e.target.value)}}\n                />\n            </Form.Group>\n            {/* Other form groups */}\n            <Button variant=\"primary\" type=\"submit\" disabled={!isActive}>Submit</Button>\n        </Form>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}