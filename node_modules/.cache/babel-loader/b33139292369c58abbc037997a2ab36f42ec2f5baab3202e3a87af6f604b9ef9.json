{"ast":null,"code":"var _jsxFileName = \"/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Profile.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState, useEffect } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport UserContext from '../UserContext';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const [details, setDetails] = useState({});\n  useEffect(() => {\n    fetch(`http://localhost:4005/b5/users/details`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      // Set the user states values with the user details upon successful login\n      if (typeof data.user !== \"undefined\") {\n        setDetails(data.user);\n      } else if (data.error === \"User not found\") {\n        Swal.fire({\n          title: \"User not found\",\n          icon: \"error\",\n          text: \"Something went wrong, kindly contact us for assistance.\"\n        });\n      } else {\n        Swal.fire({\n          title: \"Something went wrong\",\n          icon: \"error\",\n          text: \"Something went wrong, kindly contact us for assistance.\"\n        });\n      }\n    });\n  }, []);\n  return user.id === null ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/register\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        className: \"p-5 bg-primary text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"my-5 \",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-3\",\n          children: `${details.firstName} ${details.lastName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Email: \", details.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Mobile No: \", details.mobileNo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n}\n_s(Profile, \"pGww+HGATnelJ5xdxAlclVaGbzI=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useContext","useState","useEffect","Row","Col","UserContext","Navigate","useNavigate","Swal","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","user","details","setDetails","fetch","headers","Authorization","localStorage","getItem","then","res","json","data","console","log","error","fire","title","icon","text","id","to","fileName","_jsxFileName","lineNumber","columnNumber","children","className","firstName","lastName","email","mobileNo","_c","$RefreshReg$"],"sources":["/Users/mikeevalle/Documents/zuiit-2024/B384/individual-valle/capstone3/src/pages/Profile.js"],"sourcesContent":["import {useContext, useState, useEffect} from 'react';\nimport {Row, Col} from 'react-bootstrap';\nimport UserContext from '../UserContext';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\n\n\nexport default function Profile(){\n\n    const {user} = useContext(UserContext);\n\n    const [details, setDetails] = useState({});\n\n    useEffect(() => {\n    \tfetch(`http://localhost:4005/b5/users/details`, {\n    \t\theaders: {\n    \t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`\n    \t\t}\n    \t})\n    \t.then(res => res.json())\n    \t.then(data => {\n    \t\tconsole.log(data)\n    \t\t// Set the user states values with the user details upon successful login\n    \t\tif(typeof data.user !== \"undefined\"){\n    \t\t\tsetDetails(data.user)\n    \t\t} else if(data.error === \"User not found\") {\n    \t\t\tSwal.fire({\n    \t\t\t\ttitle: \"User not found\",\n    \t\t\t\ticon: \"error\",\n    \t\t\t\ttext: \"Something went wrong, kindly contact us for assistance.\"\n    \t\t\t});\n    \t\t} else {\n    \t\t\tSwal.fire({\n    \t\t\t\ttitle: \"Something went wrong\",\n    \t\t\t\ticon: \"error\",\n    \t\t\t\ttext: \"Something went wrong, kindly contact us for assistance.\"\n    \t\t\t})\n    \t\t}\n    \t})\n    }, [])\n\n\treturn (\n        (user.id === null) ?\n        <Navigate to=\"/register\" />\n        :\n\t\t\t\t<>\n\t\t<Row>\n\t\t\t<Col className=\"p-5 bg-primary text-white\">\n\t\t\t\t<h1 className=\"my-5 \">Profile</h1>\n                <h2 className=\"mt-3\">{`${details.firstName} ${details.lastName}`}</h2>\n\t\t\t\t<hr />\n\t\t\t\t<h4>Contacts</h4>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Email: {details.email}</li>\n\t\t\t\t\t<li>Mobile No: {details.mobileNo}</li>\n\t\t\t\t</ul>\n\t\t\t</Col>\n\t\t</Row>\n\n\t\t</>\n\t)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}